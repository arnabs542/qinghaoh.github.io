---
layout: post
title:  "Number"
tags: math
usemathjax: true
---
# Count

[Numbers At Most N Given Digit Set][numbers-at-most-n-given-digit-set]

{% highlight java %}
public int atMostNGivenDigitSet(String[] digits, int n) {
    String s = Integer.toString(n);
    int nLength = s.length(), m = digits.length, count = 0;

    // counts integers whose digit count < nLength
    // e.g. n = 2563, digits = {1, 2, 6}
    // count == 3^1 + 3^2 + 3^3;
    for (int i = 1; i < nLength; i++) {
        count += Math.pow(m, i);
    }

    // from left to right
    for (int i = 0; i < nLength; i++) {
        boolean hasSameDigit = false;
        for (String d : digits) {
            if (d.charAt(0) < s.charAt(i)) {
                // counts integers starting with d
                count += Math.pow(m, nLength - i - 1);
            } else if (d.charAt(0) == s.charAt(i)) {
                hasSameDigit = true;
            }
        }

        // if the i-th digit of n is the same as a digit from digits
        // keeps looping
        // otherwise returns
        if (!hasSameDigit) {
            return count;
        }
    }

    // n can be constructed by digits, adds one
    return count + 1;
}
{% endhighlight %}

[numbers-at-most-n-given-digit-set]: https://leetcode.com/problems/numbers-at-most-n-given-digit-set/
